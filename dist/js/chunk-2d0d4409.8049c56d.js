(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d4409"],{"5fdf":function(a,e,t){"use strict";t.r(e);var n=t("7a23");const o={class:"grid"},l={class:"col-12 lg:col-12 xl:col-12"},r={class:"card mb-0"},s={class:"col-12 md:col-12 flex flex-column gap-2 mt-1"},c=Object(n["createElementVNode"])("label",{for:"type"},"URL Laporan",-1),d={class:"p-inputgroup flex-1"},m={class:"col-12 md:col-12 flex flex-column gap-2 mt-1"},i=Object(n["createElementVNode"])("label",{for:"type"},"URL Detail Laporan",-1),u={class:"p-inputgroup flex-1"},p={class:"col-12 lg:col-4 xl:col-4"},h={class:"card mb-0"},g={class:"flex justify-content-between"},b=Object(n["createElementVNode"])("div",{class:"align-center"},[Object(n["createElementVNode"])("h4",{class:"m-0"},"Belum Diproses")],-1),j={class:""},x={class:"m-0 text-green-500"},O={class:"col-12 lg:col-4 xl:col-4"},V={class:"card mb-0"},N={class:"flex justify-content-between"},v=Object(n["createElementVNode"])("div",{class:"align-center"},[Object(n["createElementVNode"])("h4",{class:"m-0"},"Sedang Diproses")],-1),_={class:""},y={class:"m-0 text-blue-500"},f={class:"col-12 lg:col-4 xl:col-4"},E={class:"card mb-0"},w={class:"flex justify-content-between"},k=Object(n["createElementVNode"])("div",{class:"align-center"},[Object(n["createElementVNode"])("h4",{class:"m-0"},"Rata Rata")],-1),M={class:""},$={class:"m-0 text-yellow-500"},C={class:"col-12 lg:col-12 xl:col-12 md:col-12"},D={class:"card mb-0"},Y={class:"grid mb-0"},L={class:"col-12 lg:col-6 flex flex-column gap-2"},P=Object(n["createElementVNode"])("label",{for:"asal_pemohon"},"Bulan",-1),S={class:"col-12 lg:col-6 flex flex-column gap-2"},F=Object(n["createElementVNode"])("label",{for:"asal_pemohon"},"Tahun",-1),T={class:"col-12 lg:col-6 xl:col-6 md:col-6"},A={class:"card mb-0"},B=Object(n["createElementVNode"])("h3",{class:""},"Pengaduan",-1),U=Object(n["createElementVNode"])("hr",null,null,-1),H={class:"mt-5 mx-0 xl:mx-8 md:mx-4 sm:mx-0"},K=Object(n["createElementVNode"])("h4",{class:"text-center"},"Asal",-1),I={class:"mt-7 mx-0 xl:mx-8 md:mx-4 sm:mx-0"},J=Object(n["createElementVNode"])("h4",{class:"text-center"},"Kategori",-1),R={class:"mt-7 mx-0 xl:mx-8 md:mx-4 sm:mx-0"},W=Object(n["createElementVNode"])("h4",{class:"text-center"},"Harian",-1),q={class:"col-12 lg:col-6 xl:col-6 md:col-6"},z={class:"card mb-0"},G=Object(n["createElementVNode"])("h3",{class:""},"Permohonan",-1),Q=Object(n["createElementVNode"])("hr",null,null,-1),X={class:"mt-5 mx-0 xl:mx-8 md:mx-4 sm:mx-0"},Z=Object(n["createElementVNode"])("h4",{class:"text-center"},"Asal",-1),aa={class:"mt-7 mx-0 xl:mx-8 md:mx-4 sm:mx-0"},ea=Object(n["createElementVNode"])("h4",{class:"text-center"},"Kategori",-1),ta={class:"mt-7 mx-0 xl:mx-8 md:mx-4 sm:mx-0"},na=Object(n["createElementVNode"])("h4",{class:"text-center"},"Harian",-1);function oa(a,e,t,oa,la,ra){const sa=Object(n["resolveComponent"])("InputText"),ca=Object(n["resolveComponent"])("Button"),da=Object(n["resolveComponent"])("Dropdown"),ma=Object(n["resolveComponent"])("Calendar"),ia=Object(n["resolveComponent"])("Chart");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",s,[c,Object(n["createElementVNode"])("div",d,[Object(n["createVNode"])(sa,{id:"laporan","aria-describedby":"laporan-help",value:la.domain+"/laporan",readonly:""},null,8,["value"]),Object(n["createVNode"])(ca,{icon:"pi pi-clone",onClick:e[0]||(e[0]=a=>ra.copyData("Url Laporan",la.domain+"/laporan"))})])]),Object(n["createElementVNode"])("div",m,[i,Object(n["createElementVNode"])("div",u,[Object(n["createVNode"])(sa,{id:"detail-laporan","aria-describedby":"detail-laporan-help",value:la.domain+"/",readonly:""},null,8,["value"]),Object(n["createVNode"])(ca,{icon:"pi pi-clone",onClick:e[1]||(e[1]=a=>ra.copyData("Url Detail Laporan",la.domain+"/"))})])])])]),Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",g,[b,Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("h4",x,Object(n["toDisplayString"])(la.merge.belum),1)])])])]),Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("div",N,[v,Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("h4",y,Object(n["toDisplayString"])(la.merge.sedang),1)])])])]),Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("div",w,[k,Object(n["createElementVNode"])("div",M,[Object(n["createElementVNode"])("h4",$,Object(n["toDisplayString"])(la.merge.rata_rata),1)])])])]),Object(n["createElementVNode"])("div",C,[Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",Y,[Object(n["createElementVNode"])("div",L,[P,Object(n["createVNode"])(da,{modelValue:la.data.bulan,"onUpdate:modelValue":e[2]||(e[2]=a=>la.data.bulan=a),optionLabel:"text",optionValue:"value",options:la.listBulan,placeholder:"pilih bulan",class:"w-full"},null,8,["modelValue","options"])]),Object(n["createElementVNode"])("div",S,[F,Object(n["createVNode"])(ma,{locale:"id",id:"asal_pemohon",class:"w-full",modelValue:la.data.tahun,"onUpdate:modelValue":e[3]||(e[3]=a=>la.data.tahun=a),showButtonBar:"",view:"year",dateFormat:"yy"},null,8,["modelValue"])])])])]),Object(n["createElementVNode"])("div",T,[Object(n["createElementVNode"])("div",A,[B,U,Object(n["createElementVNode"])("div",H,[K,Object(n["createVNode"])(ia,{type:"doughnut",data:la.pengaduan_asal,class:"w-full"},null,8,["data"])]),Object(n["createElementVNode"])("div",I,[J,Object(n["createVNode"])(ia,{type:"doughnut",data:la.pengaduan_kategori,class:"w-full"},null,8,["data"])]),Object(n["createElementVNode"])("div",R,[W,Object(n["createVNode"])(ia,{type:"bar",data:la.pengaduan_harian,class:"w-full"},null,8,["data"])])])]),Object(n["createElementVNode"])("div",q,[Object(n["createElementVNode"])("div",z,[G,Q,Object(n["createElementVNode"])("div",X,[Z,Object(n["createVNode"])(ia,{type:"doughnut",data:la.permohonan_asal,class:"w-full"},null,8,["data"])]),Object(n["createElementVNode"])("div",aa,[ea,Object(n["createVNode"])(ia,{type:"doughnut",data:la.permohonan_kategori,class:"w-full"},null,8,["data"])]),Object(n["createElementVNode"])("div",ta,[na,Object(n["createVNode"])(ia,{type:"bar",data:la.permohonan_harian,class:"w-full"},null,8,["data"])])])])])}t("14d9");var la=t("11f3");class ra{getProductsSmall(){return fetch("data/products-small.json").then(a=>a.json()).then(a=>a.data)}getProducts(){return fetch("data/products.json").then(a=>a.json()).then(a=>a.data)}getProductsWithOrdersSmall(){return fetch("data/products-orders-small.json").then(a=>a.json()).then(a=>a.data)}}var sa={data(){return{domain:window.location.origin,data:{bulan:this.$moment().format("MM"),tahun:new Date},listBulan:[{value:"01",text:"Januari"},{value:"02",text:"Februari"},{value:"03",text:"Maret"},{value:"04",text:"April"},{value:"05",text:"Mei"},{value:"06",text:"Juni"},{value:"07",text:"Juli"},{value:"08",text:"Agustus"},{value:"09",text:"September"},{value:"10",text:"Oktober"},{value:"11",text:"November"},{value:"12",text:"Desember"}],pengaduan:{belum:0,sedang:0,rataMilis:0,rata_rata:"",rata:{}},permohonan:{belum:0,sedang:0,rataMilis:0,rata_rata:"",rata:{}},merge:{belum:0,sedang:0,rataMilis:0,rata_rata:""},pengaduan_asal:[],pengaduan_kategori:[],pengaduan_harian:[],permohonan_asal:[],permohonan_kategori:[],permohonan_harian:[]}},productService:null,themeChangeListener:null,async mounted(){this.getCount(),this.getData(),this.productService.getProductsSmall().then(a=>this.products=a),this.themeChangeListener=a=>{a.dark?this.applyDarkTheme():this.applyLightTheme()},la["a"].on("change-theme",this.themeChangeListener),this.isDarkTheme()?this.applyDarkTheme():this.applyLightTheme()},beforeUnmount(){la["a"].off("change-theme",this.themeChangeListener)},created(){this.productService=new ra},watch:{"data.bulan"(a,e){a!=e&&this.getData()},"data.tahun"(a,e){a!=e&&this.getData()}},methods:{async copyData(a,e){const t=this;await navigator.clipboard.writeText(e),t.$toast.add({severity:"success",summary:"Konfirmasi",detail:"Berhasil Copy "+a,life:3e3})},async toChart(a,e,t){let n=[],o=[];for(let l=0;l<e.length;l++){const a=e[l];n.push(a.label),o.push(a.data)}return{labels:n,datasets:[{label:t,data:o,backgroundColor:["#0079FF","#00DFA2","#F6FA70","#FF0060","#F2BE22","#22A699","#F29727","#F24C3D"]}]}},async getData(){const a=this;a.getPengaduanAsal(),a.getPengaduanKategori(),a.getPengaduanHarian(),a.getPermohonanAsal(),a.getPermohonanKategori(),a.getPermohonanHarian()},async getPengaduanAsal(){const a=this,e=await a.$axios.post("/pengaduan/sum_pengaduan_by_asal",{bulan:a.data.bulan,tahun:a.$moment(a.data.tahun).format("YYYY")});a.pengaduan_asal=await a.toChart("pengaduan_asal",e.data.data.map(a=>({...a,label:a.asal,data:a.count})))},async getPengaduanKategori(){const a=this,e=await a.$axios.post("/pengaduan/sum_pengaduan_by_kategori",{bulan:a.data.bulan,tahun:a.$moment(a.data.tahun).format("YYYY")});a.pengaduan_kategori=await a.toChart("pengaduan_kategori",e.data.data.map(a=>({...a,label:a.nama_kategori,data:a.count})))},async getPengaduanHarian(){const a=this,e=await a.$axios.post("/pengaduan/sum_pengaduan_harian",{bulan:a.data.bulan,tahun:a.$moment(a.data.tahun).format("YYYY")});a.pengaduan_harian=await a.toChart("pengaduan_harian",e.data.data.map(e=>({...e,label:a.$moment(e.date).format("LL"),data:e.count})),"Harian")},async getPermohonanAsal(){const a=this,e=await a.$axios.post("/permohonan/sum_permohonan_by_asal",{bulan:a.data.bulan,tahun:a.$moment(a.data.tahun).format("YYYY")});a.permohonan_asal=await a.toChart("permohonan_asal",e.data.data.map(a=>({...a,label:a.asal,data:a.count})))},async getPermohonanKategori(){const a=this,e=await a.$axios.post("/permohonan/sum_permohonan_by_kategori",{bulan:a.data.bulan,tahun:a.$moment(a.data.tahun).format("YYYY")});a.permohonan_kategori=await a.toChart("permohonan_kategori",e.data.data.map(a=>({...a,label:a.nama_kategori,data:a.count})))},async getPermohonanHarian(){const a=this,e=await a.$axios.post("/permohonan/sum_permohonan_harian",{bulan:a.data.bulan,tahun:a.$moment(a.data.tahun).format("YYYY")});a.permohonan_harian=await a.toChart("permohonan_harian",e.data.data.map(e=>({...e,label:a.$moment(e.date).format("LL"),data:e.count})),"Harian")},async getCount(){const a=this;a.pengaduan.belum=Number.parseInt((await a.$axios.post("pengaduan/belum_diproses")).data.data[0].count),a.pengaduan.sedang=Number.parseInt((await a.$axios.post("pengaduan/sedang_diproses")).data.data[0].count),a.pengaduan.rata=(await a.$axios.post("pengaduan/avg_manajer")).data,a.pengaduan.rata.days>0&&(a.pengaduan.rata_rata+=a.pengaduan.rata.days+" hari "),a.pengaduan.rata.hours>0&&(a.pengaduan.rata_rata+=a.pengaduan.rata.hours+" jam "),a.pengaduan.rata.mins>0&&(a.pengaduan.rata_rata+=a.pengaduan.rata.mins+" menit "),console.log("pengaduan",a.pengaduan),a.permohonan.belum=Number.parseInt((await a.$axios.post("permohonan/belum_diproses")).data.data[0].count),a.permohonan.sedang=Number.parseInt((await a.$axios.post("permohonan/sedang_diproses")).data.data[0].count),a.permohonan.rata=(await a.$axios.post("permohonan/avg_manajer")).data,a.permohonan.rata.days>0&&(a.permohonan.rata_rata+=a.permohonan.rata.days+" hari "),a.permohonan.rata.hours>0&&(a.permohonan.rata_rata+=a.permohonan.rata.hours+" jam "),a.permohonan.rata.mins>0&&(a.permohonan.rata_rata+=a.permohonan.rata.mins+" menit "),console.log("permohonan",a.permohonan),a.merge.belum=Math.round(a.permohonan.belum+a.pengaduan.belum),a.merge.sedang=Math.round(a.permohonan.sedang+a.pengaduan.sedang),a.permohonan.rataMilis=await a.$moment.duration({days:a.permohonan.rata.days,hours:a.permohonan.rata.hours,minutes:a.permohonan.rata.mins}),a.pengaduan.rataMilis=await a.$moment.duration({days:a.pengaduan.rata.days,hours:a.pengaduan.rata.hours,minutes:a.pengaduan.rata.mins}),a.merge.rataMilis=(a.permohonan.rataMilis.asMilliseconds()+a.pengaduan.rataMilis.asMilliseconds())/2,console.log(a.permohonan.rataMilis.asMilliseconds()),console.log(a.pengaduan.rataMilis.asMilliseconds()),console.log(a.permohonan.rataMilis.asMilliseconds()+a.pengaduan.rataMilis.asMilliseconds()),console.log((a.permohonan.rataMilis.asMilliseconds()+a.pengaduan.rataMilis.asMilliseconds())/2),console.log(a.merge.rataMilis),console.log(a.$moment.duration(a.merge.rataMilis));let e=a.$moment.duration(a.merge.rataMilis);a.merge.rata_rata=`${e._data.days} hari ${e._data.hours} jam ${e._data.minutes} menit`},formatCurrency(a){return a.toLocaleString("en-US",{style:"currency",currency:"USD"})},isDarkTheme(){return!0===this.$appState.darkTheme},applyLightTheme(){this.lineOptions={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},applyDarkTheme(){this.lineOptions={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}}}},ca=t("6b0d"),da=t.n(ca);const ma=da()(sa,[["render",oa]]);e["default"]=ma}}]);
//# sourceMappingURL=chunk-2d0d4409.8049c56d.js.map